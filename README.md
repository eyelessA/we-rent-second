# Тестовое задание (создание триггеров в Postgres)

**Описание задачи:**  
Создать 4 таблицы на postgresql: продукты, категории, статистика, заказы, и заполнить стандартными столбцами на ваш выбор.  
В таблице заказов добавить колонку с временем покупки.  
Вам необходимо написать триггер на таблицу с заказами: при добавлении новой строки в таблицу с заказами, собирать статистику сколько товаров и какой категории было куплено за день. 

### Реализация

#### create-table.sql:

Выполняю скрипт ``create-table.sql``.  
В нем, создаю таблицы указанные в ТЗ. Заполняю их тестовыми данными.

В таблице ``statistics`` для ``created_at`` и ``updated_at`` устанавливаю ``CURRENT_DATE``
вместо ``CURRENT_TIMESTAMP``, чтобы было проще реализовать задачу именно с ЕЖЕДНЕВНОЙ СТАТИСТИКОЙ.

В противном случае, будет мешать время.  

#### add-product-to-orders.sql:

Выполняю скрипт ``add-product-to-orders.sql`` для того чтобы протестировать работу триггера. Скрипт создает новый заказ, и уменьшает количество оставшегося товара (условно на складе).

### Комментарии и оценка задачи:

Сложность оцениваю как 3.  
Временные затраты около двух часов.